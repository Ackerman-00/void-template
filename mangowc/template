pkgname=mangowc
version=0.10.9
revision=1
conf_files="/etc/mango/config.conf"
build_style=meson
hostmakedepends="pkg-config wayland-devel"
makedepends="wlroots0.19-devel pcre2-devel scenefx-devel"
depends="$(vopt_if xwayland xorg-server-xwayland)"
short_desc="Dwl-based wayland compositor using scenefx"
maintainer="Ackerman <https://github.com/Ackerman-00>"
license="GPL-3.0-or-later AND CC0-1.0 AND MIT"
homepage="https://github.com/DreamMaoMao/mangowc"
changelog="https://github.com/DreamMaoMao/mangowc/releases"
distfiles="https://github.com/DreamMaoMao/mangowc/archive/refs/tags/${version}.tar.gz"
checksum=65b4c4f792f54c49e08f11884cac181bbfa8c90cac5a9a834400f4079a8edd74

build_options="xwayland"
desc_option_xwayland="Enable Xwayland support"

post_install() {
	vinstall assets/mango-transparency-128.png 0644 usr/share/icons/hicolor/128x128/apps mango.png

	local l
	rm -f LICENSE.wlroots
	for l in LICENSE*; do
		vlicense $l
	done
}
