pkgname=mangowc
version=0.10.10
revision=1
conf_files="/etc/mango/config.conf"
build_style=meson
hostmakedepends="pkg-config wayland-devel"
makedepends="wlroots0.19-devel pcre2-devel scenefx-devel"
depends="$(vopt_if xwayland xorg-server-xwayland)"
short_desc="Dwl-based wayland compositor using scenefx"
maintainer="Ackerman <https://github.com/Ackerman-00>"
license="GPL-3.0-or-later AND CC0-1.0 AND MIT"
homepage="https://github.com/DreamMaoMao/mangowc"
changelog="https://github.com/DreamMaoMao/mangowc/releases"
distfiles="https://github.com/DreamMaoMao/mangowc/archive/refs/tags/${version}.tar.gz"
checksum=34c63ee8d7b6fa7404f21cbfcfd10141821aab216d3217a6de5eeac8f5a537c0

build_options="xwayland"
desc_option_xwayland="Enable Xwayland support"

post_install() {
	vinstall assets/mango-transparency-128.png 0644 usr/share/icons/hicolor/128x128/apps mango.png

	local l
	rm -f LICENSE.wlroots
	for l in LICENSE*; do
		vlicense $l
	done
}
